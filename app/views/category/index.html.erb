<div class='cIndexContainer'>
    <div class='cHeaderContainer'>
        <h1 class='cHeader'> Category </h1>
    </div>
    <div>
        <hr class='aLine'>
    </div>
    <div class='cContainer'>
        <% @categories.each do |category|%>
            <div class='cNewCatContainer'>
                <p class='cLabel'><%= link_to category.name, category_path(category.id), class:'cLabel' %></p>
            </div>
        <% end %>
    </div>
    <div class='cFormContainer' id='catForm'>
        <div class='cFormCat'>
            <div class='cFormHeader'>
                <div></div>
                <img src='../assets/close.png' class="close"/>
            </div>
            <h2>Add a Category</h2>
            <%= form_for @ccategories, url: category_index_path do |f| %>
                <div class="field cFormDetails">
                    <%= f.label :name %>
                    <%= f.text_field :name %>
                </div>

                <div class="field cFormDetails"> 
                    <%= f.label :description %>
                    <%= f.text_field :description %>
                </div>

                <div class="actions d-flex justify-content-center">
                    <%= f.submit "Create" , class: 'cCreateBtn'%>
                </div>
            <% end %>
        </div>
    </div>
    <div>
        <% if current_user.admin %>
                <button id='catBtn'> Add a category </button>
        <% end %>
    </div>
</div>


<%
=begin%>
        VANILLA JAVASCRIPT
<%
=end%>

<script>
    var modal = document.getElementById("catForm");
    var button = document.getElementById("catBtn");
    var close = document.getElementsByClassName("close")[0];

    button.onclick = function() {
    modal.style.display = "block";
    }

    close.onclick = function() {
    modal.style.display = "none";
    }

    window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
    }
</script>